<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sosialisasi Kode Etik Korporasi BPKH - Platform Terpadu</title>
    
    <!-- Font Awesome & PDF Generation -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #2c5aa0 0%, #1e3a78 100%);
            min-height: 100vh;
            color: #333;
        }
        
        /* Main Navigation */
        .main-nav {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            padding: 15px 0;
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: 0 2px 20px rgba(0, 0, 0, 0.1);
        }
        
        .nav-container {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 0 20px;
        }
        
        .nav-tabs {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            justify-content: center;
        }
        
        .nav-tab {
            padding: 12px 25px;
            background: transparent;
            border: 2px solid #2c5aa0;
            border-radius: 30px;
            cursor: pointer;
            transition: all 0.3s ease;
            color: #2c5aa0;
            font-weight: 600;
            font-size: 14px;
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .nav-tab:hover, .nav-tab.active {
            background: linear-gradient(45deg, #2c5aa0, #1e3a78);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(44, 90, 160, 0.3);
        }
        
        /* Content Sections */
        .content-section {
            display: none;
            min-height: calc(100vh - 80px);
        }
        
        .content-section.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            color: white;
            margin-bottom: 40px;
            animation: fadeInDown 1s ease-out;
        }

        .header h1 {
            font-size: 2.8rem;
            margin-bottom: 15px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header .subtitle {
            font-size: 1.3rem;
            opacity: 0.9;
            margin-bottom: 10px;
        }

        .header .files-count {
            background: rgba(255,255,255,0.2);
            padding: 10px 20px;
            border-radius: 25px;
            display: inline-block;
            backdrop-filter: blur(10px);
            font-weight: 600;
        }

        .overview-section {
            background: white;
            border-radius: 20px;
            padding: 40px;
            margin-bottom: 30px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            animation: fadeInUp 1s ease-out 0.2s both;
        }

        .docs-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(450px, 1fr));
            gap: 25px;
            margin-top: 30px;
        }

        .doc-card {
            background: linear-gradient(135deg, #f8f9ff 0%, #e6f3ff 100%);
            border-radius: 15px;
            padding: 25px;
            border-left: 5px solid #2c5aa0;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .doc-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(44, 90, 160, 0.2);
        }

        .doc-card h3 {
            color: #2c5aa0;
            margin-bottom: 15px;
            font-size: 1.3rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .doc-card .doc-number {
            background: #2c5aa0;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 0.9rem;
        }

        .doc-details {
            margin-top: 15px;
        }

        .doc-details .detail-item {
            display: flex;
            margin-bottom: 8px;
            font-size: 0.95rem;
        }

        .doc-details .detail-label {
            font-weight: 600;
            width: 120px;
            color: #2c5aa0;
        }

        .key-points {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 15px;
            margin-top: 15px;
            border-radius: 0 8px 8px 0;
        }

        .key-points h4 {
            color: #856404;
            margin-bottom: 10px;
            font-size: 1rem;
        }

        .key-points ul {
            margin-left: 20px;
            color: #856404;
        }

        .key-points li {
            margin-bottom: 5px;
        }

        .expandable-content {
            display: none;
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid #eee;
        }

        .expandable-content.active {
            display: block;
            animation: slideDown 0.3s ease-out;
        }

        .expand-btn {
            background: #2c5aa0;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 0.9rem;
            margin-top: 10px;
            transition: all 0.3s ease;
        }

        .expand-btn:hover {
            background: #1e3a78;
            transform: translateY(-1px);
        }

        @keyframes fadeInDown {
            from { opacity: 0; transform: translateY(-50px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(50px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes slideDown {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .print-section {
            text-align: center;
            margin-top: 30px;
        }

        .print-btn {
            background: linear-gradient(45deg, #2c5aa0, #1e3a78);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 10px;
            cursor: pointer;
            font-size: 1.1rem;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .print-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(44, 90, 160, 0.3);
        }

        @media print {
            body { background: white; }
            .header { color: black; }
            .print-section { display: none; }
        }
        
        /* Interactive App Styles */
        .interactive-header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            text-align: center;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }
        
        .logo {
            width: 80px;
            height: 80px;
            margin: 0 auto 20px;
            background: linear-gradient(45deg, #4CAF50, #2196F3);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 30px;
            color: white;
            font-weight: bold;
        }
        
        .sub-nav-tabs {
            display: flex;
            justify-content: center;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 15px;
            padding: 10px;
            margin-bottom: 30px;
            overflow-x: auto;
        }
        
        .sub-nav-tab {
            padding: 12px 20px;
            background: none;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            white-space: nowrap;
            margin: 0 5px;
        }
        
        .sub-nav-tab.active {
            background: linear-gradient(45deg, #4CAF50, #2196F3);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }
        
        .interactive-section {
            display: none;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
        }
        
        .interactive-section.active {
            display: block;
            animation: slideIn 0.5s ease;
        }
        
        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        /* Quiz Styles */
        .quiz-container {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
        }
        
        .question {
            font-size: 18px;
            margin-bottom: 20px;
            font-weight: 600;
        }
        
        .options {
            display: grid;
            gap: 10px;
        }
        
        .option {
            padding: 15px;
            background: white;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
        }
        
        .option:hover {
            border-color: #4CAF50;
            transform: translateX(5px);
        }
        
        .option.selected {
            background: #e8f5e8;
            border-color: #4CAF50;
        }
        
        .option.correct {
            background: #d4edda;
            border-color: #28a745;
        }
        
        .option.incorrect {
            background: #f8d7da;
            border-color: #dc3545;
        }
        
        /* Leaderboard */
        .leaderboard {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
        }
        
        .leaderboard-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            background: white;
            border-radius: 10px;
            margin-bottom: 10px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }
        
        .rank {
            font-weight: bold;
            color: #666;
        }
        
        .score {
            background: linear-gradient(45deg, #4CAF50, #2196F3);
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-weight: bold;
        }
        
        /* Polling */
        .poll-container {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
        }
        
        .poll-option {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            background: white;
            border-radius: 10px;
            margin-bottom: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
        }
        
        .poll-option:hover {
            transform: translateX(5px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .poll-bar {
            position: absolute;
            left: 0;
            top: 0;
            height: 100%;
            background: linear-gradient(45deg, #4CAF50, #2196F3);
            border-radius: 10px;
            transition: width 0.5s ease;
            opacity: 0.2;
        }
        
        .poll-text {
            position: relative;
            z-index: 2;
        }
        
        .poll-percentage {
            position: relative;
            z-index: 2;
            font-weight: bold;
        }
        
        /* Comments */
        .comments-section {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 25px;
            margin-top: 30px;
        }
        
        .comment-form {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }
        
        .comment-input {
            flex: 1;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            resize: vertical;
        }
        
        .comment-item {
            background: white;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 15px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }
        
        .comment-meta {
            font-size: 12px;
            color: #666;
            margin-bottom: 8px;
        }
        
        /* Buttons */
        .btn {
            padding: 12px 25px;
            background: linear-gradient(45deg, #4CAF50, #2196F3);
            color: white;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }
        
        .btn-secondary {
            background: #6c757d;
        }
        
        /* Certificate */
        .certificate {
            background: white;
            border: 10px solid #4CAF50;
            border-radius: 20px;
            padding: 40px;
            text-align: center;
            margin: 30px 0;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }
        
        .certificate h2 {
            color: #4CAF50;
            font-size: 36px;
            margin-bottom: 30px;
        }
        
        /* Progress Bar */
        .progress-container {
            background: #e0e0e0;
            border-radius: 10px;
            height: 10px;
            margin: 20px 0;
            overflow: hidden;
        }
        
        .progress-bar {
            height: 100%;
            background: linear-gradient(45deg, #4CAF50, #2196F3);
            border-radius: 10px;
            transition: width 0.5s ease;
            width: 0%;
        }
        
        /* Notification */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #4CAF50;
            color: white;
            padding: 15px 20px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            z-index: 1000;
            transform: translateX(400px);
            transition: all 0.3s ease;
        }
        
        .notification.show {
            transform: translateX(0);
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            .nav-tabs {
                flex-wrap: wrap;
            }
            
            .docs-grid {
                grid-template-columns: 1fr;
            }
            
            .header h1 {
                font-size: 2.2rem;
            }
            
            .doc-card {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <!-- Main Navigation -->
    <nav class="main-nav">
        <div class="nav-container">
            <div class="nav-tabs">
                <a href="#" class="nav-tab active" onclick="switchToMateriOverview(); return false;">
                    <i class="fas fa-book"></i> Materi Kebijakan
                </a>
                <a href="#" class="nav-tab" onclick="switchToInteractiveApp(); return false;">
                    <i class="fas fa-gamepad"></i> Pembelajaran Interaktif
                </a>
            </div>
        </div>
    </nav>

    <!-- Materi Overview Section -->
    <div id="materi-overview" class="content-section active">
        <div class="container">
            <header class="header">
                <h1><i class="fas fa-mosque"></i> Kode Etik Korporasi BPKH</h1>
                <div class="subtitle">Materi Sosialisasi Komprehensif</div>
                <div class="files-count">
                    <i class="fas fa-file-alt"></i> Analisis 6 Dokumen Kebijakan
                </div>
                <div style="margin-top: 0.75rem; font-size: 1rem; color: #FFC107; font-weight: 500; text-align: center; font-family: 'Poppins', sans-serif;">
                    Narasumber: M Sopian Hadianto | Anggota Komite Audit
                </div>
            </header>

            <!-- Executive Summary -->
            <section class="overview-section">
                <h2 style="color: #2c5aa0; text-align: center; margin-bottom: 25px;">
                    <i class="fas fa-bullseye"></i> Executive Summary
                </h2>
                
                <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 30px; border-radius: 15px; margin-bottom: 30px;">
                    <h3 style="margin-bottom: 20px; text-align: center;">
                        <i class="fas fa-key"></i> Temuan Utama
                    </h3>
                    <p style="font-size: 1.1rem; line-height: 1.8; text-align: justify;">
                        Dari analisis 6 dokumen kebijakan BPKH, ditemukan bahwa <strong>kode etik tersebar dalam berbagai dokumen</strong> 
                        dengan pendekatan yang berbeda-beda berdasarkan target audience dan fungsi spesifik. BPKH telah mengadopsi 
                        standar internasional seperti ISO 37001, OECD Corporate Governance, dan IIA Standards, namun 
                        <strong>belum memiliki dokumen kode etik terpusat</strong> yang komprehensif.
                    </p>
                </div>

                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-bottom: 30px;">
                    <div style="background: #d4edda; padding: 20px; border-radius: 10px; border-left: 4px solid #28a745;">
                        <h4 style="color: #155724; margin-bottom: 10px;">
                            <i class="fas fa-check-circle"></i> Kekuatan
                        </h4>
                        <ul style="font-size: 0.95rem; color: #155724;">
                            <li>Adopsi standar internasional</li>
                            <li>Framework anti-korupsi kuat</li>
                            <li>Etika kepemimpinan detail</li>
                            <li>Profesionalisme audit internal</li>
                        </ul>
                    </div>

                    <div style="background: #f8d7da; padding: 20px; border-radius: 10px; border-left: 4px solid #dc3545;">
                        <h4 style="color: #721c24; margin-bottom: 10px;">
                            <i class="fas fa-exclamation-triangle"></i> Gap Analysis
                        </h4>
                        <ul style="font-size: 0.95rem; color: #721c24;">
                            <li>Tidak ada dokumen kode etik terpusat</li>
                            <li>Fragmentasi berdasarkan fungsi</li>
                            <li>Kurang coverage staff operasional</li>
                            <li>Belum ada nilai spiritual eksplisit</li>
                        </ul>
                    </div>

                    <div style="background: #fff3cd; padding: 20px; border-radius: 10px; border-left: 4px solid #ffc107;">
                        <h4 style="color: #856404; margin-bottom: 10px;">
                            <i class="fas fa-lightbulb"></i> Rekomendasi
                        </h4>
                        <ul style="font-size: 0.95rem; color: #856404;">
                            <li>Buat dokumen kode etik terpusat</li>
                            <li>Integrasikan nilai-nilai Islam</li>
                            <li>Standarisasi format dan struktur</li>
                            <li>Program training terintegrasi</li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- Quick Access -->
            <section class="overview-section">
                <h2 style="color: #2c5aa0; text-align: center; margin-bottom: 25px;">
                    <i class="fas fa-folder-open"></i> 6 Dokumen Kebijakan BPKH
                </h2>
                
                <div class="docs-grid">
                    <div class="doc-card" onclick="toggleExpand(this)">
                        <h3>
                            <div class="doc-number">1</div>
                            Board Manual (PKBP 01/2024)
                        </h3>
                        <div class="doc-details">
                            <div class="detail-item">
                                <span class="detail-label">Focus:</span>
                                <span>Governance & Leadership Ethics</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">Target:</span>
                                <span>Badan Pelaksana & Dewan Pengawas</span>
                            </div>
                        </div>
                        <div class="key-points">
                            <h4><i class="fas fa-key"></i> 7 Prinsip Etika Jabatan:</h4>
                            <ul>
                                <li>Keteladanan & Kepatuhan Hukum</li>
                                <li>Transparansi & Kerahasiaan</li>
                                <li>Pelayanan Prima & Anti-Korupsi</li>
                            </ul>
                        </div>
                        <button class="expand-btn" onclick="event.stopPropagation();">
                            <i class="fas fa-plus"></i> Detail
                        </button>
                        <div class="expandable-content">
                            <h4>Coverage Lengkap:</h4>
                            <p>Etika kepemimpinan, governance framework, conflict of interest, dan mekanisme accountability yang mengacu pada OECD Corporate Governance principles.</p>
                        </div>
                    </div>

                    <div class="doc-card" onclick="toggleExpand(this)">
                        <h3>
                            <div class="doc-number">2</div>
                            Anti-Penyuapan ISO 37001 (PKBP 06/2024)
                        </h3>
                        <div class="doc-details">
                            <div class="detail-item">
                                <span class="detail-label">Focus:</span>
                                <span>Anti-Corruption & Compliance</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">Target:</span>
                                <span>Seluruh Pegawai & Mitra</span>
                            </div>
                        </div>
                        <div class="key-points">
                            <h4><i class="fas fa-key"></i> Pakta Integritas - 5 Komitmen:</h4>
                            <ul>
                                <li>Zero tolerance terhadap KKN</li>
                                <li>Whistleblowing & transparansi</li>
                                <li>Anti-gratifikasi policy</li>
                            </ul>
                        </div>
                        <button class="expand-btn" onclick="event.stopPropagation();">
                            <i class="fas fa-plus"></i> Detail
                        </button>
                        <div class="expandable-content">
                            <h4>Standar Internasional:</h4>
                            <p>Implementasi penuh ISO 37001:2016 dengan sistem monitoring, investigasi, dan enforcement yang komprehensif untuk mencegah penyuapan.</p>
                        </div>
                    </div>

                    <div class="doc-card" onclick="toggleExpand(this)">
                        <h3>
                            <div class="doc-number">3</div>
                            Piagam Audit Internal (PKBP 11/2024)
                        </h3>
                        <div class="doc-details">
                            <div class="detail-item">
                                <span class="detail-label">Focus:</span>
                                <span>Professional Ethics</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">Target:</span>
                                <span>Auditor Internal</span>
                            </div>
                        </div>
                        <div class="key-points">
                            <h4><i class="fas fa-key"></i> 4 Pilar Etika Profesi:</h4>
                            <ul>
                                <li>Integritas & Objektivitas</li>
                                <li>Kerahasiaan & Kompetensi</li>
                                <li>Independensi audit</li>
                            </ul>
                        </div>
                        <button class="expand-btn" onclick="event.stopPropagation();">
                            <i class="fas fa-plus"></i> Detail
                        </button>
                        <div class="expandable-content">
                            <h4>IIA Standards:</h4>
                            <p>Mengacu pada International Internal Auditing Standards dengan unlimited access, objectivity, dan professional development yang berkelanjutan.</p>
                        </div>
                    </div>
                </div>
            </section>

            <div style="text-align: center; margin: 40px 0;">
                <button class="btn" onclick="switchToInteractiveApp()" style="font-size: 1.2rem; padding: 15px 30px;">
                    <i class="fas fa-arrow-right"></i> Mulai Pembelajaran Interaktif
                </button>
            </div>
        </div>
    </div>

    <!-- Interactive App Section -->
    <div id="interactive-app" class="content-section">
        <div class="container">
            <div class="interactive-header">
                <div class="logo">BPKH</div>
                <h1>Platform Pembelajaran Interaktif</h1>
                <p>Sosialisasi Kode Etik BPKH dengan Quiz, Polling, dan Sertifikat Digital</p>
                
                <!-- User Registration -->
                <div style="margin-top: 20px;">
                    <input type="text" id="userName" placeholder="Masukkan nama Anda" style="padding: 10px; border-radius: 5px; border: 1px solid #ddd; margin-right: 10px;">
                    <button onclick="registerUser()" class="btn">Mulai Pembelajaran</button>
                </div>
                
                <!-- Progress Bar -->
                <div class="progress-container">
                    <div class="progress-bar" id="progressBar"></div>
                </div>
                <div id="progressText">Progress: 0%</div>
            </div>
            
            <!-- Sub Navigation -->
            <div class="sub-nav-tabs">
                <button class="sub-nav-tab active" onclick="showMateri()">üìö Materi</button>
                <button class="sub-nav-tab" onclick="showQuiz()">üéÆ Quiz</button>
                <button class="sub-nav-tab" onclick="showPolling()">üìä Polling</button>
                <button class="sub-nav-tab" onclick="showLeaderboard()">üèÜ Leaderboard</button>
                <button class="sub-nav-tab" onclick="showAnalytics()">üìà Analytics</button>
            </div>
            
            <!-- Materi Section -->
            <div id="materi" class="interactive-section active">
                <h2>üìö Materi Kode Etik BPKH</h2>
                
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; margin: 30px 0;">
                    <div class="quiz-container" onclick="showMaterialDetail('integritas')">
                        <h3>üéØ Prinsip Integritas</h3>
                        <p>Memahami pentingnya kejujuran dan konsistensi dalam pelayanan audit</p>
                    </div>
                    
                    <div class="quiz-container" onclick="showMaterialDetail('objektivitas')">
                        <h3>‚öñÔ∏è Prinsip Objektivitas</h3>
                        <p>Menjaga netralitas dan menghindari konflik kepentingan</p>
                    </div>
                    
                    <div class="quiz-container" onclick="showMaterialDetail('kompetensi')">
                        <h3>üéì Prinsip Kompetensi</h3>
                        <p>Mengembangkan kemampuan profesional secara berkelanjutan</p>
                    </div>
                    
                    <div class="quiz-container" onclick="showMaterialDetail('kerahasiaan')">
                        <h3>üîí Prinsip Kerahasiaan</h3>
                        <p>Melindungi informasi sensitif dan rahasia klien</p>
                    </div>
                </div>
                
                <!-- Material Detail -->
                <div id="materialDetail" style="display: none;">
                    <div id="materialContent"></div>
                    <button onclick="completeMaterial()" class="btn" style="margin-top: 20px;">Selesai Membaca</button>
                </div>
                
                <!-- Comments Section -->
                <div class="comments-section">
                    <h3>üí¨ Diskusi & Feedback</h3>
                    <div class="comment-form">
                        <textarea class="comment-input" id="commentText" placeholder="Bagikan pendapat atau pertanyaan Anda..."></textarea>
                        <button onclick="addComment()" class="btn">Kirim</button>
                    </div>
                    <div id="commentsList"></div>
                </div>
            </div>
            
            <!-- Quiz Section -->
            <div id="quiz" class="interactive-section">
                <h2>üéÆ Quiz Interaktif</h2>
                <div id="quizContainer">
                    <div class="quiz-container">
                        <div class="question" id="questionText">Loading...</div>
                        <div class="options" id="optionsContainer"></div>
                        <div style="margin-top: 20px;">
                            <button onclick="submitAnswer()" class="btn" id="submitBtn">Submit Jawaban</button>
                            <button onclick="nextQuestion()" class="btn btn-secondary" id="nextBtn" style="display: none;">Pertanyaan Selanjutnya</button>
                        </div>
                        <div id="feedback" style="margin-top: 15px; padding: 10px; border-radius: 10px; display: none;"></div>
                    </div>
                    
                    <div id="quizResults" style="display: none;">
                        <h3>üéâ Quiz Selesai!</h3>
                        <div id="scoreDisplay"></div>
                        <button onclick="generateCertificate()" class="btn" style="margin-top: 20px;">Dapatkan Sertifikat</button>
                    </div>
                </div>
            </div>
            
            <!-- Polling Section -->
            <div id="polling" class="interactive-section">
                <h2>üìä Polling Langsung</h2>
                <div class="poll-container">
                    <h3>Apakah Anda akan melaporkan pelanggaran etika yang Anda saksikan?</h3>
                    <div class="poll-option" onclick="vote('ya')">
                        <div class="poll-bar" id="pollBarYa" style="width: 0%;"></div>
                        <span class="poll-text">Ya, pasti akan melaporkan</span>
                        <span class="poll-percentage" id="pollPercentYa">0%</span>
                    </div>
                    <div class="poll-option" onclick="vote('mungkin')">
                        <div class="poll-bar" id="pollBarMungkin" style="width: 0%;"></div>
                        <span class="poll-text">Mungkin, tergantung situasi</span>
                        <span class="poll-percentage" id="pollPercentMungkin">0%</span>
                    </div>
                    <div class="poll-option" onclick="vote('tidak')">
                        <div class="poll-bar" id="pollBarTidak" style="width: 0%;"></div>
                        <span class="poll-text">Tidak, karena khawatir konsekuensi</span>
                        <span class="poll-percentage" id="pollPercentTidak">0%</span>
                    </div>
                    <div style="margin-top: 20px;">
                        <strong>Total Votes: <span id="totalVotes">0</span></strong>
                    </div>
                </div>
            </div>
            
            <!-- Leaderboard Section -->
            <div id="leaderboard" class="interactive-section">
                <h2>üèÜ Leaderboard</h2>
                <div class="leaderboard" id="leaderboardList">
                    Loading...
                </div>
            </div>
            
            <!-- Analytics Section -->
            <div id="analytics" class="interactive-section">
                <h2>üìà Analytics & Statistik</h2>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px;">
                    <div class="quiz-container">
                        <h3>üë• Total Peserta</h3>
                        <div id="totalParticipants" style="font-size: 2em; color: #4CAF50;">0</div>
                    </div>
                    <div class="quiz-container">
                        <h3>‚è±Ô∏è Rata-rata Waktu</h3>
                        <div id="averageTime" style="font-size: 2em; color: #2196F3;">0 menit</div>
                    </div>
                    <div class="quiz-container">
                        <h3>üìä Tingkat Kelulusan</h3>
                        <div id="passRate" style="font-size: 2em; color: #FF9800;">0%</div>
                    </div>
                    <div class="quiz-container">
                        <h3>üí¨ Total Komentar</h3>
                        <div id="totalComments" style="font-size: 2em; color: #E91E63;">0</div>
                    </div>
                </div>
            </div>
            
            <!-- Certificate Template -->
            <div id="certificateTemplate" style="display: none;">
                <div class="certificate">
                    <h2>SERTIFIKAT</h2>
                    <p>Diberikan kepada</p>
                    <h3 id="certificateName" style="font-size: 28px; margin: 20px 0; color: #2196F3;"></h3>
                    <p>Yang telah berhasil menyelesaikan</p>
                    <h4 style="margin: 20px 0;">Sosialisasi Kode Etik BPKH</h4>
                    <p>dengan nilai <span id="certificateScore"></span></p>
                    <div style="margin-top: 30px;">
                        <p>BPKH - Badan Pengawasan Keuangan Haji</p>
                        <p id="certificateDate"></p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Notification -->
    <div id="notification" class="notification"></div>
    
    <script>
        // Global Variables
        let currentUser = null;
        let currentQuestion = 0;
        let userScore = 0;
        let selectedAnswer = null;
        let startTime = Date.now();
        let materialProgress = [];
        let polls = {
            ya: 0,
            mungkin: 0,
            tidak: 0
        };
        let leaderboardData = [];
        let comments = [];
        
        // Quiz Questions
        const quizQuestions = [
            {
                question: "Apa yang dimaksud dengan prinsip integritas dalam kode etik BPKH?",
                options: [
                    "Memiliki kemampuan teknis yang tinggi",
                    "Jujur dan konsisten dalam setiap tindakan",
                    "Mengutamakan kepentingan pribadi",
                    "Bekerja sesuai dengan instruksi atasan"
                ],
                correct: 1,
                explanation: "Integritas berarti jujur dan konsisten dalam setiap tindakan, menjadi fondasi kepercayaan dalam profesi audit."
            },
            {
                question: "Dalam situasi konflik kepentingan, apa yang harus dilakukan seorang auditor?",
                options: [
                    "Tetap melanjutkan tugas tanpa memberitahu siapa pun",
                    "Mengundurkan diri dari penugasan dan melaporkan konflik tersebut",
                    "Meminta imbalan tambahan untuk kompensasi",
                    "Meminta rekan kerja untuk menggantikan secara diam-diam"
                ],
                correct: 1,
                explanation: "Objektivitas mengharuskan auditor untuk mengundurkan diri dan melaporkan konflik kepentingan demi menjaga independensi."
            },
            {
                question: "Prinsip kerahasiaan dalam audit berarti:",
                options: [
                    "Tidak boleh berbicara dengan siapa pun tentang pekerjaan",
                    "Melindungi informasi klien dan hanya mengungkapkannya sesuai ketentuan",
                    "Menyimpan semua dokumen di rumah",
                    "Tidak memberikan laporan kepada atasan"
                ],
                correct: 1,
                explanation: "Kerahasiaan mengharuskan perlindungan informasi klien dan hanya boleh diungkapkan sesuai dengan ketentuan hukum dan profesional."
            },
            {
                question: "Pengembangan kompetensi profesional dilakukan melalui:",
                options: [
                    "Hanya mengandalkan pengalaman kerja",
                    "Pembelajaran berkelanjutan dan pelatihan regular",
                    "Membaca berita umum setiap hari",
                    "Mengikuti trend media sosial"
                ],
                correct: 1,
                explanation: "Kompetensi profesional memerlukan pembelajaran berkelanjutan dan pelatihan regular untuk mengikuti perkembangan standar dan regulasi."
            },
            {
                question: "Jika menemukan indikasi fraud dalam audit, langkah pertama yang harus dilakukan adalah:",
                options: [
                    "Melaporkan langsung ke media",
                    "Mengabaikan karena bukan tanggung jawab auditor",
                    "Melakukan investigasi lebih lanjut dan melaporkan sesuai prosedur",
                    "Memberitahu rekan kerja untuk gosip"
                ],
                correct: 2,
                explanation: "Temuan indikasi fraud harus ditindaklanjuti dengan investigasi yang tepat dan dilaporkan sesuai prosedur yang berlaku."
            }
        ];
        
        // Material Content
        const materialContent = {
            integritas: {
                title: "üéØ Prinsip Integritas",
                content: `
                    <h3>Definisi Integritas</h3>
                    <p>Integritas adalah prinsip fundamental yang mengharuskan setiap auditor untuk bersikap jujur, terbuka, dan konsisten dalam setiap tindakan profesional.</p>
                    
                    <h4>Komponen Utama Integritas:</h4>
                    <ul>
                        <li><strong>Kejujuran:</strong> Menyampaikan informasi secara akurat dan tidak menyesatkan</li>
                        <li><strong>Transparansi:</strong> Terbuka tentang keterbatasan dan konflik yang mungkin ada</li>
                        <li><strong>Konsistensi:</strong> Menerapkan standar yang sama dalam semua situasi</li>
                        <li><strong>Keandalan:</strong> Dapat dipercaya dalam setiap komitmen profesional</li>
                    </ul>
                    
                    <h4>Penerapan dalam Praktik:</h4>
                    <p>Seorang auditor yang berintegritas akan:</p>
                    <ul>
                        <li>Melaporkan temuan audit apa adanya tanpa manipulasi</li>
                        <li>Mengakui keterbatasan kemampuan dan mencari bantuan jika diperlukan</li>
                        <li>Tidak menerima gratifikasi yang dapat mempengaruhi objektivitas</li>
                        <li>Menjaga komitmen terhadap deadline dan kualitas kerja</li>
                    </ul>
                `
            },
            objektivitas: {
                title: "‚öñÔ∏è Prinsip Objektivitas",
                content: `
                    <h3>Definisi Objektivitas</h3>
                    <p>Objektivitas adalah kemampuan untuk bersikap netral, tidak bias, dan independen dari pengaruh yang dapat mengganggu penilaian profesional.</p>
                    
                    <h4>Elemen Kunci Objektivitas:</h4>
                    <ul>
                        <li><strong>Independensi:</strong> Bebas dari pengaruh yang tidak pantas</li>
                        <li><strong>Netralitas:</strong> Tidak memihak pada kepentingan tertentu</li>
                        <li><strong>Skeptisisme Profesional:</strong> Mempertanyakan dan memverifikasi informasi</li>
                        <li><strong>Penilaian yang Seimbang:</strong> Mempertimbangkan semua fakta relevan</li>
                    </ul>
                    
                    <h4>Ancaman Terhadap Objektivitas:</h4>
                    <ul>
                        <li>Konflik kepentingan finansial</li>
                        <li>Hubungan personal dengan auditee</li>
                        <li>Tekanan dari manajemen atau pihak lain</li>
                        <li>Bias konfirmasi dalam pengumpulan bukti</li>
                    </ul>
                `
            },
            kompetensi: {
                title: "üéì Prinsip Kompetensi",
                content: `
                    <h3>Definisi Kompetensi Profesional</h3>
                    <p>Kompetensi profesional adalah kemampuan dan keahlian yang diperlukan untuk melaksanakan tugas audit dengan standar kualitas yang tinggi.</p>
                    
                    <h4>Dimensi Kompetensi:</h4>
                    <ul>
                        <li><strong>Pengetahuan Teknis:</strong> Pemahaman standar audit dan akuntansi</li>
                        <li><strong>Keterampilan Analitis:</strong> Kemampuan menganalisis data dan mengidentifikasi risiko</li>
                        <li><strong>Kemampuan Komunikasi:</strong> Menyampaikan hasil audit secara efektif</li>
                        <li><strong>Teknologi:</strong> Penguasaan tools dan software audit modern</li>
                    </ul>
                `
            },
            kerahasiaan: {
                title: "üîí Prinsip Kerahasiaan",
                content: `
                    <h3>Definisi Kerahasiaan</h3>
                    <p>Kerahasiaan adalah kewajiban untuk melindungi informasi yang diperoleh selama proses audit dan tidak mengungkapkannya tanpa otorisasi yang tepat.</p>
                    
                    <h4>Ruang Lingkup Kerahasiaan:</h4>
                    <ul>
                        <li><strong>Informasi Keuangan:</strong> Data keuangan sensitif klien</li>
                        <li><strong>Strategi Bisnis:</strong> Rencana dan strategi perusahaan</li>
                        <li><strong>Informasi Personal:</strong> Data pribadi karyawan dan manajemen</li>
                        <li><strong>Temuan Audit:</strong> Hasil audit sebelum publikasi resmi</li>
                    </ul>
                `
            }
        };
        
        // Navigation Functions
        function switchToMateriOverview() {
            document.getElementById('materi-overview').classList.add('active');
            document.getElementById('interactive-app').classList.remove('active');
            
            // Update nav tabs
            document.querySelectorAll('.nav-tab').forEach(tab => tab.classList.remove('active'));
            document.querySelector('.nav-tab[onclick*="switchToMateriOverview"]').classList.add('active');
        }
        
        function switchToInteractiveApp() {
            document.getElementById('materi-overview').classList.remove('active');
            document.getElementById('interactive-app').classList.add('active');
            
            // Update nav tabs
            document.querySelectorAll('.nav-tab').forEach(tab => tab.classList.remove('active'));
            document.querySelector('.nav-tab[onclick*="switchToInteractiveApp"]').classList.add('active');
            
            if (!currentUser) {
                showNotification('Silakan masukkan nama Anda untuk memulai pembelajaran', 'warning');
            }
        }
        
        // Interactive App Functions
        function registerUser() {
            const name = document.getElementById('userName').value.trim();
            if (!name) {
                showNotification('Silakan masukkan nama Anda', 'error');
                return;
            }
            
            currentUser = {
                name: name,
                startTime: Date.now(),
                progress: 0,
                score: 0,
                materialsRead: []
            };
            
            showNotification(`Selamat datang, ${name}! Pembelajaran dimulai.`, 'success');
            updateProgress();
            loadQuiz();
        }
        
        function showMateri() {
            showSection('materi');
        }
        
        function showQuiz() {
            if (!currentUser) {
                showNotification('Silakan daftar terlebih dahulu', 'warning');
                return;
            }
            showSection('quiz');
            loadQuiz();
        }
        
        function showPolling() {
            showSection('polling');
            updatePollResults();
        }
        
        function showLeaderboard() {
            showSection('leaderboard');
            updateLeaderboard();
        }
        
        function showAnalytics() {
            showSection('analytics');
            updateAnalytics();
        }
        
        function showSection(sectionName) {
            // Hide all sections
            document.querySelectorAll('.interactive-section').forEach(section => {
                section.classList.remove('active');
            });
            
            // Show selected section
            document.getElementById(sectionName).classList.add('active');
            
            // Update nav tabs
            document.querySelectorAll('.sub-nav-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            event.target.classList.add('active');
        }
        
        // Material Functions
        function showMaterialDetail(topic) {
            const material = materialContent[topic];
            const materialDiv = document.getElementById('materialDetail');
            const contentDiv = document.getElementById('materialContent');
            
            contentDiv.innerHTML = `
                <h2>${material.title}</h2>
                ${material.content}
            `;
            
            materialDiv.style.display = 'block';
            materialDiv.scrollIntoView({ behavior: 'smooth' });
        }
        
        function completeMaterial() {
            if (!currentUser) return;
            
            currentUser.progress += 20;
            updateProgress();
            showNotification('Materi selesai dibaca! Progress Anda bertambah.', 'success');
            
            document.getElementById('materialDetail').style.display = 'none';
        }
        
        // Quiz Functions
        function loadQuiz() {
            if (currentQuestion >= quizQuestions.length) {
                showQuizResults();
                return;
            }
            
            const question = quizQuestions[currentQuestion];
            document.getElementById('questionText').textContent = question.question;
            
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            
            question.options.forEach((option, index) => {
                const optionDiv = document.createElement('div');
                optionDiv.className = 'option';
                optionDiv.textContent = option;
                optionDiv.onclick = () => selectOption(index);
                optionsContainer.appendChild(optionDiv);
            });
            
            document.getElementById('submitBtn').style.display = 'inline-block';
            document.getElementById('nextBtn').style.display = 'none';
            document.getElementById('feedback').style.display = 'none';
            selectedAnswer = null;
        }
        
        function selectOption(index) {
            document.querySelectorAll('.option').forEach(opt => opt.classList.remove('selected'));
            document.querySelectorAll('.option')[index].classList.add('selected');
            selectedAnswer = index;
        }
        
        function submitAnswer() {
            if (selectedAnswer === null) {
                showNotification('Pilih jawaban terlebih dahulu', 'warning');
                return;
            }
            
            const question = quizQuestions[currentQuestion];
            const options = document.querySelectorAll('.option');
            const feedbackDiv = document.getElementById('feedback');
            
            if (selectedAnswer === question.correct) {
                userScore += 20;
                options[selectedAnswer].classList.add('correct');
                feedbackDiv.innerHTML = `<div style="color: green;"><strong>Benar!</strong> ${question.explanation}</div>`;
            } else {
                options[selectedAnswer].classList.add('incorrect');
                options[question.correct].classList.add('correct');
                feedbackDiv.innerHTML = `<div style="color: red;"><strong>Salah.</strong> ${question.explanation}</div>`;
            }
            
            feedbackDiv.style.display = 'block';
            document.getElementById('submitBtn').style.display = 'none';
            document.getElementById('nextBtn').style.display = 'inline-block';
            
            if (currentUser) {
                currentUser.score = userScore;
                currentUser.progress += 15;
                updateProgress();
            }
        }
        
        function nextQuestion() {
            currentQuestion++;
            loadQuiz();
        }
        
        function showQuizResults() {
            document.getElementById('quizContainer').style.display = 'none';
            document.getElementById('quizResults').style.display = 'block';
            
            const percentage = (userScore / (quizQuestions.length * 20)) * 100;
            document.getElementById('scoreDisplay').innerHTML = `
                <h3>Skor Anda: ${userScore}/${quizQuestions.length * 20} (${percentage}%)</h3>
                <p>${percentage >= 80 ? 'Excellent! Anda memahami materi dengan baik.' : 
                     percentage >= 60 ? 'Good! Anda cukup memahami materi.' : 
                     'Perlu belajar lebih lanjut. Silakan ulangi materi.'}</p>
            `;
            
            if (currentUser) {
                currentUser.progress = 100;
                updateProgress();
                
                // Add to leaderboard
                leaderboardData.push({
                    name: currentUser.name,
                    score: userScore,
                    time: Date.now() - currentUser.startTime
                });
                
                leaderboardData.sort((a, b) => b.score - a.score);
            }
        }
        
        // Polling Functions
        function vote(option) {
            polls[option]++;
            updatePollResults();
            showNotification('Terima kasih atas partisipasi Anda!', 'success');
        }
        
        function updatePollResults() {
            const total = polls.ya + polls.mungkin + polls.tidak;
            
            if (total > 0) {
                const yaPercent = (polls.ya / total) * 100;
                const mungkinPercent = (polls.mungkin / total) * 100;
                const tidakPercent = (polls.tidak / total) * 100;
                
                document.getElementById('pollBarYa').style.width = yaPercent + '%';
                document.getElementById('pollBarMungkin').style.width = mungkinPercent + '%';
                document.getElementById('pollBarTidak').style.width = tidakPercent + '%';
                
                document.getElementById('pollPercentYa').textContent = yaPercent.toFixed(1) + '%';
                document.getElementById('pollPercentMungkin').textContent = mungkinPercent.toFixed(1) + '%';
                document.getElementById('pollPercentTidak').textContent = tidakPercent.toFixed(1) + '%';
            }
            
            document.getElementById('totalVotes').textContent = total;
        }
        
        // Leaderboard Functions
        function updateLeaderboard() {
            const leaderboardList = document.getElementById('leaderboardList');
            
            if (leaderboardData.length === 0) {
                leaderboardList.innerHTML = '<p>Belum ada peserta yang menyelesaikan quiz.</p>';
                return;
            }
            
            leaderboardList.innerHTML = '';
            leaderboardData.slice(0, 10).forEach((user, index) => {
                const item = document.createElement('div');
                item.className = 'leaderboard-item';
                
                const minutes = Math.floor((user.time / 1000) / 60);
                
                item.innerHTML = `
                    <div>
                        <span class="rank">#${index + 1}</span>
                        <strong>${user.name}</strong>
                        <small>(${minutes} menit)</small>
                    </div>
                    <div class="score">${user.score}</div>
                `;
                
                leaderboardList.appendChild(item);
            });
        }
        
        // Analytics Functions
        function updateAnalytics() {
            document.getElementById('totalParticipants').textContent = leaderboardData.length;
            
            if (leaderboardData.length > 0) {
                const avgTime = leaderboardData.reduce((sum, user) => sum + user.time, 0) / leaderboardData.length;
                document.getElementById('averageTime').textContent = Math.floor((avgTime / 1000) / 60) + ' menit';
                
                const passCount = leaderboardData.filter(user => user.score >= 80).length;
                const passRate = (passCount / leaderboardData.length) * 100;
                document.getElementById('passRate').textContent = passRate.toFixed(1) + '%';
            }
            
            document.getElementById('totalComments').textContent = comments.length;
        }
        
        // Comment Functions
        function addComment() {
            const commentText = document.getElementById('commentText').value.trim();
            if (!commentText) {
                showNotification('Silakan tulis komentar Anda', 'warning');
                return;
            }
            
            if (!currentUser) {
                showNotification('Silakan daftar terlebih dahulu', 'warning');
                return;
            }
            
            const comment = {
                name: currentUser.name,
                text: commentText,
                timestamp: new Date().toLocaleString()
            };
            
            comments.unshift(comment);
            document.getElementById('commentText').value = '';
            
            renderComments();
            showNotification('Komentar berhasil ditambahkan!', 'success');
        }
        
        function renderComments() {
            const commentsList = document.getElementById('commentsList');
            commentsList.innerHTML = '';
            
            comments.slice(0, 10).forEach(comment => {
                const item = document.createElement('div');
                item.className = 'comment-item';
                item.innerHTML = `
                    <div class="comment-meta">${comment.name} - ${comment.timestamp}</div>
                    <div>${comment.text}</div>
                `;
                commentsList.appendChild(item);
            });
        }
        
        // Certificate Function
        function generateCertificate() {
            if (!currentUser || currentUser.score < 60) {
                showNotification('Skor minimal 60 untuk mendapatkan sertifikat', 'warning');
                return;
            }
            
            document.getElementById('certificateName').textContent = currentUser.name;
            document.getElementById('certificateScore').textContent = `${currentUser.score}/100`;
            document.getElementById('certificateDate').textContent = new Date().toLocaleDateString();
            
            document.getElementById('certificateTemplate').style.display = 'block';
            
            showNotification('Sertifikat berhasil dibuat! Scroll ke bawah untuk melihat.', 'success');
        }
        
        // Utility Functions
        function updateProgress() {
            if (!currentUser) return;
            
            const progressBar = document.getElementById('progressBar');
            const progressText = document.getElementById('progressText');
            
            progressBar.style.width = Math.min(currentUser.progress, 100) + '%';
            progressText.textContent = `Progress: ${Math.min(currentUser.progress, 100)}%`;
        }
        
        function showNotification(message, type = 'info') {
            const notification = document.getElementById('notification');
            notification.textContent = message;
            notification.className = `notification ${type} show`;
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }
        
        function toggleExpand(element) {
            const expandableContent = element.querySelector('.expandable-content');
            const btn = element.querySelector('.expand-btn i');
            
            if (expandableContent.classList.contains('active')) {
                expandableContent.classList.remove('active');
                btn.className = 'fas fa-plus';
            } else {
                expandableContent.classList.add('active');
                btn.className = 'fas fa-minus';
            }
        }
        
        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            updatePollResults();
            updateAnalytics();
            renderComments();
        });
    </script>
</body>
</html>
